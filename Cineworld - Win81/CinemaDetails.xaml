<common:LayoutAwarePage xmlns:Controls1="using:Cineworld.Controls"  xmlns:Controls="using:WinRTXamlToolkit.Controls" 
    xmlns:Callisto="using:Callisto.Controls"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Cineworld"
    xmlns:xamltoolkit="using:WinRTXamlToolkit.Controls"
    xmlns:common="using:Cineworld.Common"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:Input="using:Syncfusion.UI.Xaml.Controls.Input"
    x:Name="pageRoot"
    x:Class="Cineworld.CinemaDetails"
    DataContext="{Binding DefaultViewModel, RelativeSource={RelativeSource Mode=Self}}"
    mc:Ignorable="d">

    <common:LayoutAwarePage.Resources>

        <!-- TODO: Delete this line if the key AppName is declared in App.xaml -->
        <x:String x:Key="AppName">My Application</x:String>
        <CollectionViewSource x:Name="cvsShowByDate" IsSourceGrouped="true" />
        <!--CollectionViewSource x:Name="cvsCurrent" IsSourceGrouped="true" />
        <CollectionViewSource x:Name="cvsUpcoming" IsSourceGrouped="true" /-->

        <DataTemplate x:Key="GroupHeaderTemplate">
            <Border Margin="10, 0, 0, 10" Width="50" Height="50" BorderBrush="{StaticResource AppBarItemForegroundThemeBrush}" BorderThickness="3" Tapped="Grid_Tapped">
                <TextBlock Text="{Binding Key}" Foreground="{StaticResource AppBarItemForegroundThemeBrush}" FontSize="32" FontWeight="Bold" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="5" />
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="GroupWideHeaderTemplate">
            <Border Margin="10, 0, 0, 10" Width="150" Height="150" BorderBrush="{StaticResource AppBarItemForegroundThemeBrush}" BorderThickness="3" Tapped="Grid_Tapped">
                <TextBlock Text="{Binding Key}" TextWrapping="Wrap" Foreground="{StaticResource AppBarItemForegroundThemeBrush}" FontSize="32" FontWeight="Bold" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="5" />
            </Border>
        </DataTemplate>

        <Style x:Key="SfRatingStyle1" TargetType="Input:SfRating">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Input:SfRating">
                        <Grid RenderTransformOrigin="0.5, 0.5">
                            <Grid HorizontalAlignment="Left" x:Name="PART_ToolTip" >
                                <Popup x:Name="PART_Popup" VerticalOffset="-65">
                                    <Border BorderBrush="{StaticResource ToolTipBorderThemeBrush}" 
        								HorizontalAlignment="Center" VerticalAlignment="Center"
        								BorderThickness="2" 
        								Height="37"
        								Background="{StaticResource ToolTipBackgroundThemeBrush}" 
        								Padding="10, 0">

                                        <ContentPresenter x:Name="PART_Border"  Content="{Binding PreviewValue, RelativeSource={RelativeSource Mode=TemplatedParent}}"
        									FontSize="15" FontWeight="Bold"
        									Foreground="{StaticResource ToolTipForegroundThemeBrush}" 
        									VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                    </Border>
                                </Popup>
                            </Grid>
                            <Border BorderBrush="{TemplateBinding BorderBrush}" Grid.Row="1" CornerRadius="{TemplateBinding CornerRadius}" x:Name="PART_Host"
        						Margin="0, 0, 0, 10" Width="80" Height="16"
        						BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}">
                                <ItemsPresenter  VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Margin="{TemplateBinding Padding}" 
        							HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal" />
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>
        </Style>


        <DataTemplate x:Key="FilmItemTemplateWithShowtimes">
            <Grid Width="400" Margin="0, 0, 0, 0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Row="0" Grid.ColumnSpan="2" TextWrapping="NoWrap" VerticalAlignment="Top" Text="{Binding TitleWithClassification}" HorizontalAlignment="Left" Margin="0, 0, 0, 10" FontFamily="Global User Interface" Style="{StaticResource TitleTextStyle}"/>
                <Image Grid.Row="1" Grid.Column="0" Height="278" Width="185" Source="{Binding PosterImage}" VerticalAlignment="Top" HorizontalAlignment="Left" Stretch="UniformToFill" Tag="{Binding}" Tapped="Image_Tapped"/>
                <ScrollViewer Grid.Row="1" Grid.Column="1" Height="278" VerticalScrollBarVisibility="Auto" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10, -3, 0, 0" Visibility="{Binding Performances, Converter={StaticResource VisibilityConverter}}">
                    <ItemsControl ItemsSource="{Binding Performances}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <xamltoolkit:WrapPanel Orientation="Horizontal" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Button 
                                    Margin="0, 0, 10, 10"
        							Click="Button_Click" 
        							CommandParameter="{Binding}"
        							BorderBrush="{StaticResource AppBarItemForegroundThemeBrush}" BorderThickness="3"
        							IsEnabled="{Binding AvailableFuture}" 
        							Width="90"
        							Height="70" >
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <TextBlock 
        									Text="{Binding TimeString}" 
        									VerticalAlignment="Center" HorizontalAlignment="Center" />

                                        <TextBlock Grid.Row="1"
        									Text="{Binding Type}" FontSize="15" 
        									VerticalAlignment="Center" HorizontalAlignment="Center" />
                                    </Grid>
                                </Button>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
                <StackPanel Orientation="Vertical" Grid.Row="1" Grid.Column="1" Margin="10, -3, 0, 0" Visibility="{Binding Performances, Converter={StaticResource VisibilityConverter}, ConverterParameter=Inverted}">
                    <Input:SfRating ItemsCount="5" Value="{Binding AverageRating}" HorizontalAlignment="Left" Margin="0, 0, 0, 0" HorizontalContentAlignment="Left" />
                    <StackPanel Orientation="Horizontal">
                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="0, 0, 0, 0" Text="{Binding VoteCount}" />
                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="10, 0, 0, 0" Text="ratings" />
                        <!--toolkit:Rating Width="80" Height="16" Background="Transparent" Value="{Binding AverageRating}" HorizontalAlignment="Left" Margin="12, 0, 0, 0" HorizontalContentAlignment="Left"/-->
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="0, 0, 0, 0" Text="duration" />
                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="10, 0, 0, 0" Text="{Binding Runtime}" />
                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="10, 0, 0, 0" Text="minutes" />
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="0, 0, 0, 0" Text="release date" />
                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="10, 0, 0, 0" Text="{Binding ReleaseDate}" />
                    </StackPanel>

                    <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap"  Margin="0, 20, 0, 0" Text="{Binding ShortDesc}"/>
                </StackPanel>
            </Grid>
        </DataTemplate>
        
    </common:LayoutAwarePage.Resources>
    <common:LayoutAwarePage.BottomAppBar>
        <AppBar x:Name="cinemaDetailsAppBar" Background="Gray">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" Grid.Column="1" x:Name="spReviewButtons" Visibility="Visible">
                    <Button x:Name="btnRateCinema" Content="Rate Cinema" BorderThickness="3" BorderBrush="{StaticResource AppBarItemForegroundThemeBrush}" Background="Transparent" Foreground="{StaticResource AppBarItemForegroundThemeBrush}" Margin="10, 0, 0, 0" Click="btnRateCinema_Click"/>
                    <Button x:Name="btnReviews" Content="View Reviews" BorderThickness="3" BorderBrush="{StaticResource AppBarItemForegroundThemeBrush}" Background="Transparent" Foreground="{StaticResource AppBarItemForegroundThemeBrush}" Margin="20, 0, 0, 0" Click="btnReviews_Click" Visibility="{Binding Reviews, Converter={StaticResource VisibilityConverter}}" />
                </StackPanel>
                <StackPanel x:Name="spButtons" Orientation="Horizontal"  Grid.Column="0">
                    <Button x:Name="btnViewOnMap" Grid.Row="0" Margin="0, 15, 0, 0" HorizontalAlignment="Right" Click="btnViewOnMap_Click" Style="{StaticResource AppBarButtonStyle}" Visibility="Visible" AutomationProperties.Name="Map">
                        <Viewbox xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation">
                            <Grid >
                                <Grid x:Name="backgroundGrid" Width="48" Height="48" Visibility="Visible">
                                    <!--Path Data="M50.5,4.7500001C25.232973,4.75 4.75,25.232973 4.7500001,50.5 4.75,75.767029 25.232973,96.25 50.5,96.25 75.767029,96.25 96.25,75.767029 96.25,50.5 96.25,25.232973 75.767029,4.75 50.5,4.7500001z M50.5,0C78.390381,0 101,22.609621 101,50.5 101,78.390381 78.390381,101 50.5,101 22.609621,101 0,78.390381 0,50.5 0,22.609621 22.609621,0 50.5,0z" Stretch="Fill" Fill="#FFFFFFFF" Name="Stroke" Visibility="Visible" /-->
                                </Grid>
                                <Path StrokeThickness="2" Stroke="{StaticResource AppBarItemForegroundThemeBrush}" Data="M2.925457,45.511272C10.741428,45.502132,18.48247,50.500496,21.411001,52.619106L20.564001,62.264 0,53.770779 2.1689987,45.528053C2.4211235,45.517071,2.6733284,45.511566,2.925457,45.511272z M43.952001,43.591896C55.724,52.525307,62.183001,53.360489,62.789,53.421089L64,61.205421 44.424,54.828056 44.396,54.156773z M40.450001,43.115406L40.919001,54.26947 40.950001,54.990753 24.056,62.232002 24.903,52.581406z M32.606,36.478134L32.606,43.690895 25.280001,48.306694 26.096001,39.011951z M59.924001,35.005447L62.139,49.239574C59.452001,49.095078 54.612,46.333439 50.368,43.548397 53.144,35.378548 59.758,35.013317 59.924001,35.005447z M16.933001,22.882633L23.807001,25.352081 23.771,25.766691 23.009001,34.433929C13.212002,29.659979,16.569,23.494579,16.933001,22.882633z M8.8899994,19.993994L13.364,21.601459C9.25,30.491262,18.677,36.603863,22.634001,38.703369L21.754,48.719387C6.2389984,39.027451,3.1920013,41.771053,3.1920013,41.771053L2.8279991,43.028809z M39.475,19.857397L40.272,38.861565 36.321,41.351074 36.242001,33.327076C35.919001,31.54977,33.817,31.872763,33.817,31.872763L26.479,34.649315 27.239,25.997887 27.308001,25.195833z M42.948,19.718L46.328,20.843176 48.265,28.147562 49.341001,32.198376 51.812,28.815638 55.427,23.871042 58.343,24.841661 59.338,31.237457C50.179,32.483341,47.031,41.246284,47.031,41.246284L47.372,41.519039C45.925,40.510029,44.669,39.595921,43.755,38.916862z M53.679668,4.3845386C51.646579,4.4165239 49.847217,5.8707604 49.457722,7.9460926 49.009715,10.31923 50.56956,12.603175 52.941967,13.049685 55.314495,13.496293 57.60103,11.937162 58.046438,9.5640144 58.494245,7.1922369 56.93172,4.9063015 54.561872,4.4602423 54.26532,4.4044247 53.970109,4.3799686 53.679668,4.3845386z M53.876964,0.00037478212C54.370403,0.0050314565 54.870273,0.05313564 55.372135,0.14771746 59.963256,1.0122223 62.984005,5.4340973 62.119318,10.023382 61.814724,11.634684 61.072536,13.050685 60.038754,14.176887L55.179538,20.820293 50.197683,27.634001 48.033721,19.474491 45.924445,11.519484C45.372331,10.095582 45.19521,8.50704 45.497207,6.8932085 46.267306,2.8053779 49.85896,-0.037543376 53.876964,0.00037478212z" Stretch="Uniform" Fill="#FFFFFFFF" Width="26" Height="26" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                                    <Path.RenderTransform>
                                        <TransformGroup>
                                            <RotateTransform Angle="0" />
                                            <ScaleTransform ScaleX="1" ScaleY="1" />
                                        </TransformGroup>
                                    </Path.RenderTransform>
                                </Path>
                            </Grid>
                        </Viewbox>
                    </Button>
                    <Button x:Name="btnUnfavourite" Grid.Row="0" Margin="0, 15, 0, 0" HorizontalAlignment="Right" Click="btnUnfavourite_Click" Style="{StaticResource UnfavoriteAppBarButtonStyle}" Visibility="Collapsed"/>
                    <Button x:Name="btnFavourite" Grid.Row="0" Margin="0, 15, 0, 0" HorizontalAlignment="Right" Click="btnFavourite_Click" Style="{StaticResource FavoriteAppBarButtonStyle}" Visibility="Collapsed"/>
                    <Button x:Name="btnUnPinToStartMenu" Grid.Row="0" Margin="0, 15, 0, 0" HorizontalAlignment="Right" Click="btnUnPinToStartMenu_Click" Style="{StaticResource UnpinAppBarButtonStyle}" Visibility="Collapsed"/>
                    <Button x:Name="btnPinToStartMenu" Grid.Row="0" Margin="0, 15, 0, 0" HorizontalAlignment="Right" Click="btnPinToStartMenu_Click" Style="{StaticResource PinAppBarButtonStyle}" Visibility="Collapsed"/>
                </StackPanel>
            </Grid>
        </AppBar>
    </common:LayoutAwarePage.BottomAppBar>
    <!--
        This grid acts as a root panel for the page that defines two rows:
        * Row 0 contains the back button and page title
        * Row 1 contains the rest of the page layout
    -->
    <Grid Style="{StaticResource LayoutRootStyle}">
        <Grid x:Name="LayoutRoot">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <VisualStateManager.VisualStateGroups>

                <!-- Visual states reflect the application's view state -->
                <VisualStateGroup x:Name="ApplicationViewStates">
                    <VisualState x:Name="FullScreenLandscape"/>
                    <VisualState x:Name="Filled"/>

                    <!-- The entire page respects the narrower 100-pixel margin convention for portrait -->
                    <VisualState x:Name="FullScreenPortrait">
                        <Storyboard>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="backButton" Storyboard.TargetProperty="Style">
                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PortraitBackButtonStyle}"/>
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </VisualState>

                    <!-- The back button and title have different styles when snapped -->
                    <VisualState x:Name="Snapped">
                        <Storyboard>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="backButton" Storyboard.TargetProperty="Style">
                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource SnappedBackButtonStyle}"/>
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="gBody" Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="gProgress" Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="btnFilledViewOnly" Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0" Value="Visible"/>
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>

            <Grid Grid.Row="0" Background="Transparent">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Back button and page title -->
                <Button x:Name="backButton" Click="GoBack" IsEnabled="{Binding Frame.CanGoBack, ElementName=pageRoot}" Style="{StaticResource BackButtonStyle}" />

                <local:BannerControl x:Name="bcTitle" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="1" ViewTitle="{Binding Name}"/>

                <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.Column="2" HorizontalAlignment="Stretch" VerticalAlignment="Center" Margin="20, 0">
                    <RadioButton x:Name="radShowByDate" Content="view by date" VerticalAlignment="Bottom" Margin="10, 0" IsChecked="True" Click="radShowByDate_Click"/>
                    <Input:SfDatePicker x:Name="dpShowing" HorizontalAlignment="Left" VerticalAlignment="Top" FormatString="ddd, dd MMM yyyy" SelectorFormatString="dd MMM yyyy" ValueChanged="dpShowing_ValueChanged"/>
                    <RadioButton x:Name="radCurrent" Content="current" VerticalAlignment="Bottom" Margin="10, 0" IsChecked="False" Click="radCurrent_Click"/>
                    <RadioButton x:Name="radUpcoming" Content="upcoming" VerticalAlignment="Bottom" Margin="10, 0" IsChecked="False" Click="radUpcoming_Click"/>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Controls1:AdDisplayControl VerticalAlignment="Top"/>
                <Grid x:Name="gBody" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Column="1">
                    <!--Grid.Background>
                <ImageBrush ImageSource="/Assets/Cineworld_V2_846x468.png" Opacity="0.2" Stretch="UniformToFill"/>
            </Grid.Background-->
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <StackPanel Orientation="Horizontal" Grid.Column="0" Margin="10, 0, 0, 0" VerticalAlignment="Top">
                        <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap"  Margin="0, 0, 0, 0" Text="Address" Style="{StaticResource TitleTextStyle}" />
                        <TextBlock Text="{Binding FullAddress}" HorizontalAlignment="Left" TextWrapping="Wrap"  FontStyle="Italic" Margin="10, 0, 0, 0"  Style="{StaticResource BodyTextStyle}"/>

                        <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap"  Margin="20, 0, 0, 0" Text="Telephone" Style="{StaticResource TitleTextStyle}" />
                        <TextBlock Text="{Binding Telephone}" HorizontalAlignment="Left" TextWrapping="Wrap"  FontStyle="Italic" Margin="10, 0, 0, 0"  Style="{StaticResource BodyTextStyle}"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.Column="2" HorizontalAlignment="Right" Margin="0, 0, 0, 0">
                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="0, 0, 0, 0" Text="{Binding VoteCount}" Style="{StaticResource BodyTextStyle}"/>
                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="10, 0, 0, 0" Text="ratings" Style="{StaticResource BodyTextStyle}"/>
                        <Input:SfRating VerticalAlignment="Center" Background="Transparent" Margin="10, 0, 20, 0" ItemsCount="5" Value="{Binding AverageRating}" IsHitTestVisible="False" />
                    </StackPanel>
                    <SemanticZoom x:Name="semanticZoomShowByDate" HorizontalAlignment="Stretch" Grid.ColumnSpan="3" Grid.Row="1" VerticalAlignment="Stretch">
                        <SemanticZoom.ZoomedOutView>
                            <GridView ScrollViewer.IsHorizontalScrollChainingEnabled="False" HorizontalAlignment="Center" ItemTemplateSelector="{StaticResource GroupEmptyOrFullSelector}" >
                                <GridView.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapGrid Background="LightGray" MaximumRowsOrColumns="9" VerticalChildrenAlignment="Center" Orientation="Horizontal"/>
                                    </ItemsPanelTemplate>
                                </GridView.ItemsPanel>
                            </GridView>
                        </SemanticZoom.ZoomedOutView>
                        <SemanticZoom.ZoomedInView>
                            <GridView x:Name="gvZoomedInShowByDate" ItemsSource="{Binding Source={StaticResource cvsShowByDate}}" IsSwipeEnabled="True" ScrollViewer.IsHorizontalScrollChainingEnabled="False" ItemTemplate="{StaticResource FilmItemTemplateWithShowtimes}" ItemContainerStyle="{StaticResource MyGridViewItemStyle}">
                                <GridView.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <VirtualizingStackPanel Orientation="Horizontal"/>
                                    </ItemsPanelTemplate>
                                </GridView.ItemsPanel>

                                <GridView.GroupStyle>
                                    <GroupStyle HeaderTemplate="{StaticResource GroupHeaderTemplate}">
                                        <GroupStyle.Panel>
                                            <ItemsPanelTemplate>
                                                <VariableSizedWrapGrid Orientation="Vertical" Margin="70,-65,0,0" />
                                            </ItemsPanelTemplate>
                                        </GroupStyle.Panel>
                                    </GroupStyle>
                                </GridView.GroupStyle>
                            </GridView>
                        </SemanticZoom.ZoomedInView>
                    </SemanticZoom>
                </Grid>
            </Grid>
            <Button x:Name="btnFilledViewOnly" Grid.Row="1" Visibility="Collapsed" Click="btnFilledViewOnly_Click" VerticalAlignment="Center" HorizontalAlignment="Center">

                <TextBlock TextWrapping="Wrap" Text="Snapped View is not supported. Please view app in filled view" />
            </Button>


            <Grid x:Name="gProgress" Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Center" Height="100" Background="White" Visibility="Collapsed">
                <ProgressRing x:Name="prProgress" HorizontalAlignment="Center" VerticalAlignment="Center" IsActive="False" Height="80" Width="80" Foreground="#FFB51C10"/>
            </Grid>
        </Grid>
    </Grid>
</common:LayoutAwarePage>
